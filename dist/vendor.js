function registarMascotaServices(a,n,t){var e=this;e.registrarMascota=function(e){var o=n.defer();return a.post(t.APIURL+"mascotas",e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise},e.consultarMascotaServices=function(e){var o=n.defer();return a.get(t.APIURL+"mascotas/"+e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise},e.actualizarMascota=function(e){var o=n.defer();return a.put(t.APIURL+"mascotas",e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise},e.eliminarMascota=function(e){var o=n.defer();return a.delete(t.APIURL+"mascotas/"+e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise}}function registarUsuarioServices(a,n,t){this.registrarUsuario=function(e){var o=n.defer();return a.post(t.APIURL+"usuario",e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise}}function UsuarioServices(a,n,t){var e=this;e.registrarUsuario=function(e){var o=n.defer();return a.post(t.APIURL+"usuario",e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise},e.consultarUsuario=function(e){var o=n.defer();return a.post(t.APIURL+"consultarusuario/",e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise},e.actualizarUsuario=function(e){var o=n.defer();return a.put(t.APIURL+"usuario",e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise},e.eliminarUsuario=function(e){var o=n.defer();return a.post(t.APIURL+"usuario",e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise}}function loginServices(a,n,t){this.login=function(e){var o=n.defer();return a.post(t.APIURL+"login",e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise},this.consultarUsuario=function(e){var o=n.defer();return a.post(t.APIURL+"usuarioServices/consultarUsuario",e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise}}function adopcionService(a,n,t){this.consultarSolicitud=function(e){var o=n.defer();return a.get(t.APIURL+"adopciones/"+e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise},this.actualizarSolicitud=function(e){var o=n.defer();return a.put(t.APIURL+"adopciones",e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise},this.enviarSolicitud=function(e){var o=n.defer();return a.post(t.APIURL+"adopciones",e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise}}function apadrinamientoService(a,n,t){var e;function o(e){var o=n.defer();return a.post(t.APIURL+"apadrinamientos",e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise}(e=this).enviarSolicitud=o,e.consultarSolicitud=function(e){var o=n.defer();return a.get(ipserver+"/mimas/rest/apadrinamientoservices/apadrinamiento",{params:{id:e}}).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise},(e=this).enviarSolicitud=o}function solicitudAdopcionService(e,a,n){this.listarSolicitud=function(){var o=a.defer();return e.get(n.APIURL+"adopcionservices/list-adopcion").success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise}}function solicitudApadrinamientoService(e,a){this.listarSolicitud=function(){var o=a.defer();return e.get("http://localhost:8080/mimas/rest/apadrinamientoservices/list-apadrinamiento").success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise}}function estadoSolicitudAdopcionService(a,n,t){this.consultarSolicitud=function(e){var o=n.defer();return a.get(t.APIURL+"adopcionservices/adopcion",{params:{id:e}}).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise},this.actualizarSolicitud=function(e){var o=n.defer();return a.put(t.APIURL+"adopcionservices/adopcion",e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise}}function estadoSolicitudApadrinamientoService(a,n){var t="http://localhost:8080";this.consultarSolicitud=function(e){var o=n.defer();return a.get(t+"/mimas/rest/apadrinamientoservices/apadrinamiento",{params:{id:e}}).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise},this.actualizarSolicitud=function(e){var o=n.defer();return a.put(t+"/mimas/rest/apadrinamientoservices/apadrinamiento",e).success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise}}function solicituAdopcionService(e,a,n){this.listarSolicitud=function(){var o=a.defer();return e.get(n.APIURL+"adopcionservices/list-adopcion").success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise}}function solicituApadrinamientoService(e,a){this.listarSolicitud=function(){var o=a.defer();return e.get("http://localhost:8080/mimas/rest/apadrinamientoservices/list-apadrinamiento").success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise}}function homePublicoService(e,a,n){this.listarMascota=function(){var o=a.defer();return e.get(n.APIURL+"mascotas").success(function(e){o.resolve({resultado:e})}).error(function(e){o.resolve({resultado:e})}),o.promise}}function homepublicoController(e,o,a,n){var t=this;t.listaMascota=[],t.numPages=function(){return Math.ceil(t.listaMascota.length/t.numPerPage)},n.listarMascota().then(function(e){t.listaMascota=e.resultado,t.filteredTodos=[],t.currentPage=1,t.numPerPage=5,t.maxSize=5}),t.adoptar=function(e){t.$location.path("/login-adopcion/"+e)},t.apadrinar=function(e){t.$location.path("/login-apadrinar/"+e)},t.$location=o,e.$watch("vm.currentPage + vm.numPerPage",function(){var e=(t.currentPage-1)*t.numPerPage,o=e+t.numPerPage;t.filteredTodos=t.listaMascota.slice(e,o)})}function loginController(e,o,a,n,t,r){var i=this;i.cancelar=function(){i.usuario="",i.contrasena=""},i.mensajeUsuario="",i.mensajeContrasena="",i.functionUsuario=function(){0<i.usuario.length&&(i.mensajeUsuario="")},i.functionContrasena=function(){0<i.contrasena.length&&(i.mensajeContrasena="")},i.login=function(){jQuery(window).spin();var e={email:i.usuario,contrasena:i.contrasena};i.modalShown2=!0,console.log(JSON.stringify(e)),a.login(e).then(function(e){if(jQuery(window).spin(),""!=e.resultado.nombre1){i.usuario;sessionStorage.setItem("user",i.usuario.trim()),sessionStorage.setItem("nombre",e.nombre1),sessionStorage.setItem("rol",e.resultado.rol),sessionStorage.setItem("access",!0),o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Ingresar").textContent("Usuario valido").ariaLabel("Usuario registrado").ok("Cerrar")),n.url("/home-transaccional")}else o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Ingresar").textContent("Usuario no valido").ariaLabel("Usuario no registrado").ok("Cerrar"))})},localStorage.setItem("user","")}function loginAdopcionController(e,o,a,n,t,r){var i=this;i.ingresar=function(){if(null==i.usuario||""==i.usuario)return void(i.mensajeUsuario="Ingrese un valor válido");if(!/^\w+([\.\+\-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(i.usuario))return void(i.mensajeUsuario="Ingrese un correo valido");if(null==i.contrasena||""==i.contrasena)return void(i.mensajeContrasena="Ingrese un valor válido");grecaptcha.execute()},i.cancelar=function(){i.usuario="",i.contrasena=""},i.mensajeUsuario="",i.mensajeContrasena="",i.functionUsuario=function(){0<i.usuario.length&&(i.mensajeUsuario="")},i.functionContrasena=function(){0<i.contrasena.length&&(i.mensajeContrasena="")},i.login=function(){jQuery(window).spin();var e={email:i.usuario,contrasena:i.contrasena};i.modalShown2=!0,console.log(JSON.stringify(e)),a.login(e).then(function(e){if(jQuery(window).spin(),"200"==e.resultado[0].codRespuesta){i.usuario;sessionStorage.setItem("user",i.usuario.trim()),sessionStorage.setItem("nombre",e.resultado[0].nombre1),sessionStorage.setItem("rol",e.resultado[0].rol),sessionStorage.setItem("access",!0),o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Ingresar").textContent("Usuario valido").ariaLabel("Usuario registrado").ok("Cerrar")),n.url("/adopcion/"+i.idMascota)}else o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Ingresar").textContent("Usuario no valido").ariaLabel("Usuario no registrado").ok("Cerrar"))})},sessionStorage.setItem("user",""),i.idMascota=r.idMascota,console.log("idmascota: "+i.idMascota)}function loginApadrinarController(e,o,a,n,t,r){var i=this;i.ingresar=function(){if(null==i.usuario||""==i.usuario)return void(i.mensajeUsuario="Ingrese un valor válido");if(!/^\w+([\.\+\-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(i.usuario))return void(i.mensajeUsuario="Ingrese un correo valido");if(null==i.contrasena||""==i.contrasena)return void(i.mensajeContrasena="Ingrese un valor válido");grecaptcha.execute()},i.cancelar=function(){i.usuario="",i.contrasena=""},i.mensajeUsuario="",i.mensajeContrasena="",i.functionUsuario=function(){0<i.usuario.length&&(i.mensajeUsuario="")},i.functionContrasena=function(){0<i.contrasena.length&&(i.mensajeContrasena="")},i.login=function(){jQuery(window).spin();var e={email:i.usuario,contrasena:i.contrasena};i.modalShown2=!0,console.log(JSON.stringify(e)),a.login(e).then(function(e){if(jQuery(window).spin(),"200"==e.resultado[0].codRespuesta){i.usuario;sessionStorage.setItem("user",i.usuario.trim()),sessionStorage.setItem("nombre",e.resultado[0].nombre1),sessionStorage.setItem("rol",e.resultado[0].rol),sessionStorage.setItem("access",!0),o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Ingresar").textContent("Usuario valido").ariaLabel("Usuario registrado").ok("Cerrar")),n.url("/apadrinar/"+i.idMascota)}else o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Ingresar").textContent("Usuario no valido").ariaLabel("Usuario no registrado").ok("Cerrar"))})},localStorage.setItem("user",""),i.idMascota=r.idMascota,console.log("idmascota: "+i.idMascota)}function homeController(e,o){"true"!=sessionStorage.getItem("access")&&o.url("/");this.rol=sessionStorage.getItem("rol"),this.bienvenidaUsuario=", "+sessionStorage.getItem("nombre")}function mascotaController(e,a,o,n,t,r){"true"!=sessionStorage.getItem("access")&&r.url("/");var i=this;function s(e){console.log(e);var o=document.createElement("canvas");return o.width=e.width,o.height=e.height,o.getContext("2d").drawImage(e,0,0),o.toDataURL()}i.FechaN="",i.isOpen=!1,i.registrar=function(){if(null==i.nombre||""==i.nombre)return void(i.mensajeNombre="Debes ingresar un dato válido para este campo");if(null==i.IdResponsable||""==i.IdResponsable)return void(i.mensajeResponsable="Debes ingresar un dato válido para este campo");if(null==i.Especie||"0"==i.Especie)return void(i.mensajeEspecie="Debes seleccionar una opción");if(i.fechaN>=new Date)return void(i.mensajeFecha="La fecha debe ser menor a la fecha actual");if(null==i.Genero||"0"==i.Genero)return void(i.mensajeGenero="Debes seleccionar una opción");if(null==i.Tamano||"0"==i.Tamano)return void(i.mensajeTamano="Debes seleccionar una opción");if(null==i.Estado||"0"==i.Estado)return void(i.mensajeEstado="Debes seleccionar una opción");if(null==i.Caracteristicas||""==i.Caracteristicas)return void(i.mensajeCaracteristicas="Debes ingresar un dato válido para este campo");if(null==i.Raza||""==i.Raza)return void(i.mensajeRaza="Debes ingresar un dato válido para este campo");if(null==i.Senales||""==i.Senales)return void(i.mensajeSenales="Debes ingresar un dato válido para este campo");if(null==i.Color||""==i.Color)return void(i.mensajeColor="Debes ingresar un dato válido para este campo");if(null==i.Colorojos||""==i.Colorojos)return void(i.mensajeColorojos="Debes ingresar un dato válido para este campo");if(null==i.Personalidad||""==i.Personalidad)return void(i.mensajepersonalidad="Debes ingresar un dato válido para este campo");if(null==i.EstadoSalud||""==i.EstadoSalud)return void(i.mensajeEstadoSalud="Debes ingresar un dato válido para este campo");i.fechaN.getMonth();var e={id:i.Id,nombre:i.nombre,idResponsable:i.IdResponsable,especie:i.Especie,raza:i.Raza,genero:i.Genero,tamano:i.Tamano,estado:i.Estado,caracteristicas:i.Caracteristicas,fechaN:"",senales:i.Senales,color:i.Color,colorojos:i.Colorojos,personalidad:i.Personalidad,estadoSalud:i.EstadoSalud,imagen:i.thumbnail.dataUrl};jQuery(window).spin(),o.registrarMascota(e).then(function(e){jQuery(window).spin(),i.thumbnail.dataUrl=s(document.getElementById("img")),"201"==e.resultado.codigoRespuesta?(a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Registrar Mascota").textContent("Se registró la mascota exitósamente, identificador de la mascota: "+e.resultado.id).ariaLabel("Se registró la mascota exitósamente.").ok("Cerrar")),i.Id="",i.nombre="",i.IdResponsable="",i.Especie="",i.Raza="",i.Genero="",i.Tamano="",i.Estado="",i.Caracteristicas="",i.Vacunas="",i.FechaN="",i.Senales="",i.Color="",i.Colorojos="",i.Personalidad="",i.EstadoSalud="",i.thumbnail.dataUrl="",i.thumbnail={dataUrl:""}):"202"==e.resultado.codigoRespuesta?a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Registrar Mascota").textContent("Mascota no registrada.").ariaLabel("Mascota no registrada.").ok("Cerrar")):"203"==e.resultado.codigoRespuesta?a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Registrar Mascota").textContent("La mascota ya se encuentra registrada.").ariaLabel("La mascota ya se enuentra registrada.").ok("Cerrar")):"500"==e.resultado.codigoRespuesta&&a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Registrar Mascota").textContent("Ocurrió un error tratando de registrar la mascota.").ariaLabel("La mascota ya se enuentra registrada.").ok("Cerrar"))})},i.consultar=function(){if(null==i.Id2||""==i.Id2)return void(i.mensajeId2="Debes ingresar un id para consultar");jQuery(window).spin(),o.consultarMascotaServices(i.Id2).then(function(e){jQuery(window).spin(),null!=e.resultado.nombre&&""!=e.resultado.nombre?(a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Consultar Mascota").textContent("Mascota consultada.").ariaLabel("Mascota consultada.").ok("Cerrar")),i.Id=i.Id2,i.nombre=e.resultado.nombre,i.IdResponsable=e.resultado.idResponsable,i.Especie=e.resultado.especie,i.Raza=e.resultado.raza,i.Genero=e.resultado.genero,i.Tamano=e.resultado.tamano,i.Estado=e.resultado.estado,i.Caracteristicas=e.resultado.caracteristicas,i.FechaN=new Date(e.resultado.fechaN),i.Senales=e.resultado.senales,i.Color=e.resultado.color,i.Colorojos=e.resultado.colorojos,i.Personalidad=e.resultado.personalidad,i.EstadoSalud=e.resultado.estadoSalud,i.thumbnail.dataUrl=e.resultado.imagen,i.Id2="",i.idDisabled=!0,i.actualizarDisabled=!1,i.eliminarDisabled=!1,i.DisabledCancelar=!1,i.registrarDisabled=!0,i.consultarDisabled=!0):a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Consultar Mascota").textContent("Masocta no consultada").ariaLabel("Verifique el id de la mascota.").ok("Cerrar"))})},i.actualizar=function(){if(null==i.Id||""==i.Id)return void(i.mensajeId="Debes ingresar un dato válido para este campo");if(null==i.nombre||""==i.nombre)return void(i.mensajeNombre="Debes ingresar un dato válido para este campo");if(null==i.IdResponsable||""==i.IdResponsable)return void(i.mensajeResponsable="Debes ingresar un dato válido para este campo");if(null==i.Especie||"0"==i.Especie)return void(i.mensajeEspecie="Debes seleccionar una opción");if(i.fechaN>=new Date)return void(i.mensajeFecha="La fecha debe ser menor a la fecha actual");if(null==i.Genero||"0"==i.Genero)return void(i.mensajeGenero="Debes seleccionar una opción");if(null==i.Tamano||"0"==i.Tamano)return void(i.mensajeTamano="Debes seleccionar una opción");if(null==i.Estado||"0"==i.Estado)return void(i.mensajeEstado="Debes seleccionar una opción");if(null==i.Caracteristicas||""==i.Caracteristicas)return void(i.mensajeCaracteristicas="Debes ingresar un dato válido para este campo");if(null==i.Raza||""==i.Raza)return void(i.mensajeRaza="Debes ingresar un dato válido para este campo");if(null==i.Senales||""==i.Senales)return void(i.mensajeSenales="Debes ingresar un dato válido para este campo");if(null==i.Color||""==i.Color)return void(i.mensajeColor="Debes ingresar un dato válido para este campo");if(null==i.Colorojos||""==i.Colorojos)return void(i.mensajeColorojos="Debes ingresar un dato válido para este campo");if(null==i.Personalidad||""==i.Personalidad)return void(i.mensajepersonalidad="Debes ingresar un dato válido para este campo");if(null==i.EstadoSalud||""==i.EstadoSalud)return void(i.mensajeEstadoSalud="Debes ingresar un dato válido para este campo");i.fechaN.getMonth();var e={id:i.Id,nombre:i.nombre,idResponsable:i.IdResponsable,especie:i.Especie,raza:i.Raza,genero:i.Genero,tamano:i.Tamano,estado:i.Estado,caracteristicas:i.Caracteristicas,fechaN:i.fechaN,senales:i.Senales,color:i.Color,colorojos:i.Colorojos,personalidad:i.Personalidad,estadoSalud:i.EstadoSalud,imagen:i.thumbnail.dataUrl};jQuery(window).spin(),o.actualizarMascota(e).then(function(e){jQuery(window).spin(),i.thumbnail.dataUrl=s(document.getElementById("img")),"200"==e.resultado?(a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Actualizar mascota").textContent("Se actualizó la mascota exitosamente.").ariaLabel("Se actualizó la mascota exitosamente.").ok("Cerrar")),i.Id2="",i.Id="",i.nombre="",i.Especie="",i.Raza="",i.Genero="",i.Tamano="",i.Estado="",i.Caracteristicas="",i.Vacunas="",i.FechaN="",i.Senales="",i.Color="",i.Colorojos="",i.Personalidad="",i.EstadoSalud="",i.thumbnail.dataUrl=i.imagen,i.imagen="",i.idDisabled=!1,i.registrarDisabled=!1,i.consultarDisabled=!1,i.actualizarDisabled=!0,i.eliminarDisabled=!0):a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Actualizar mascota").textContent("Mascota no actualizada.").ariaLabel("Mascota no actualizada.").ok("Cerrar"))})},i.eliminar=function(){jQuery(window).spin(),o.eliminarMascota(i.Id).then(function(e){jQuery(window).spin(),i.thumbnail.dataUrl=s(document.getElementById("img")),"200"==e.resultado?(a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Eliminar mascota").textContent("Mascota eliminada exitósamente.").ariaLabel("Mascota eliminada exitósamente.").ok("Cerrar")),i.Id="",i.nombre="",i.Especie="",i.Raza="",i.Genero="",i.Tamano="",i.Estado="",i.Caracteristicas="",i.FechaN="",i.Senales="",i.Color="",i.Colorojos="",i.Personalidad="",i.EstadoSalud="",i.idDisabled=!1,i.registrarDisabled=!1,i.consultarDisabled=!1,i.actualizarDisabled=!0,i.eliminarDisabled=!0):a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Eliminar Mascota").textContent("Mascota no eliminada.").ariaLabel("Mascota no eliminada.").ok("Cerrar"))})},i.idDisabled=!1,i.registrarDisabled=!1,i.consultarDisabled=!1,i.actualizarDisabled=!0,i.eliminarDisabled=!0,i.mensajeId="",i.mensajeNombre="",i.mensajeIdResponsable="",i.mensajeEspecie="",i.mensajeRaza="",i.mensajeGenero="",i.mensajeEdad="",i.mensajeTamano="",i.mensajeEstado="",i.mensajeCaracteristicas="",i.mensajeVacunas="",i.mensajeSenales="",i.mensajeColor="",i.mensajeColorojos="",i.mensajepersonalidad="",i.mensajeEstadoSalud="",i.mensajeFecha="",i.functionId2=function(){0<i.Id2.length&&(i.mensajeId2="")},i.functionNombre=function(){0<i.nombre.length&&(i.mensajeNombre="")},i.functionResponsable=function(){0<i.IdResponsable.length&&(i.mensajeResponsable="")},i.functionEspecie=function(){"0"!=i.Especie&&(i.mensajeEspecie="")},i.functionRaza=function(){0<i.Raza.length&&(i.mensajeRaza="")},i.functionGenero=function(){"0"!=i.Genero&&(i.mensajeGenero="")},i.functionEdad=function(){0<i.Edad.length&&(i.mensajeEdad="")},i.functionTamano=function(){"0"!=i.Tamano&&(i.mensajeTamano="")},i.functionEstado=function(){"0"!=i.Estado&&(i.mensajeEstado="")},i.functionCaracteristicas=function(){0<i.Caracteristicas.length&&(i.mensajeCaracteristicas="")},i.functionFechaN=function(){i.fechaN<new Date&&(i.mensajeFecha="")},i.functionSenales=function(){0<i.Senales.length&&(i.mensajeSenales="")},i.functionColor=function(){0<i.Color.length&&(i.mensajeColor="")},i.functionColorojos=function(){0<i.Colorojos.length&&(i.mensajeColorojos="")},i.functionPersonalidad=function(){0<i.Personalidad.length&&(i.mensajepersonalidad="")},i.functionEstadoSalud=function(){0<i.EstadoSalud.length&&(i.mensajeEstadoSalud="")},i.showConfirm=function(e){var o=a.confirm().title("Vas a eliminar una mascota").textContent("Estás seguro que vas a eliminar esta mascota.").ariaLabel("Lucky day").targetEvent(e).ok("Aceptar").cancel("Cancelar");a.show(o).then(function(){i.eliminar()},function(){})},i.cancelar=function(){i.consultarDisabled=!1,i.actualizarDisabled=!0,i.DisabledCancelar=!0,i.eliminarDisabled=!0,i.idDisabled=!1,i.registrarDisabled=!1,i.Id2="",i.nombre="",i.Especie="",i.Raza="",i.Genero="",i.Tamano="",i.Estado="",i.Caracteristicas="",i.Vacunas="",i.FechaN="",i.Senales="",i.Color="",i.Colorojos="",i.Personalidad="",i.EstadoSalud="",i.thumbnail.dataUrl=s(document.getElementById("img"))},i.DisabledCancelar=!0,i.IdResponsable=sessionStorage.getItem("user"),i.imagen="",i.fechaN=new Date,i.rol=sessionStorage.getItem("rol"),i.bienvenidaUsuario=", "+sessionStorage.getItem("nombre"),i.thumbnail={dataUrl:""},i.fileReaderSupported=null!=window.FileReader,i.thumbnail.dataUrl=s(document.getElementById("img")),"data:,"==i.thumbnail.dataUrl&&location.reload(!0),e.photoChanged=function(e){if(null!=e){var o=e;i.imagen=o.name,i.fileReaderSupported&&-1<o.type.indexOf("image")&&n(function(){var e=new FileReader;e.readAsDataURL(o),e.onload=function(e){n(function(){i.thumbnail.dataUrl=e.target.result})}})}}}function UsuarioController(e,a,n,o){"true"!=sessionStorage.getItem("access")&&o.url("/");var t=this;t.actualizarUsuario=function(){var e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[`~!@#$%^&*()_°¬|+\-=?;:'",.<>\{\}\[\]\\\/])[A-Za-z\d`~!@#$%^&*()_°¬|+\-=?;:'",.<>\{\}\[\]\\\/]{8,12}$/;{if(null==t.nombre1||""==t.nombre1)return void(t.mensajeNombre1="Debes ingresar un válido para este campo");if(null==t.apellido1||""==t.apellido1)return void(t.mensajeApellido1="Debes ingresar un válido para este campo");if(null==t.telefonoFijo||""==t.telefonoFijo&&(null==t.telefonoMovil||""==t.telefonoMovil))return t.mensajeTelefonoFijo="Debes ingresar un número de teléfono para fijo o para móvil",void(t.mensajeTelefonoMovil="Debes ingresar un número de teléfono para fijo o para móvil");if(null==t.email||""==t.email)return void(t.mensajeEmail="Debes ingresar un válido para este campo");if(!/^\w+([\.\+\-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(t.email))return void(t.mensajeEmail="El correo no es válido");if(null==t.preguntaSeguridad||"1"==t.preguntaSeguridad)return void(t.mensajePreguntaSeguridad="Debes seleccionar una pregunta ");if(null==t.respuesta||""==t.respuesta)return void(t.mensajeRespuesta="Debes ingresar un válido para este campo");if(null==t.contrasena||""==t.contrasena)return void(t.mensajeContrasena="Debes ingresar un válido para este campo");if(!e.test(t.contrasena))return void(t.mensajeContrasena="La contraseña no cumple con las póliticas");if(null==t.confirmarContrasena||""==t.confirmarContrasena)return void(t.mensajeConfirmarContrasena="Debes ingresar un válido para este campo");if(t.confirmarContrasena!=t.confirmarContrasena)return void(t.mensajeConfirmarContrasena="La confirmación no coincide con la contraseña");if(!e.test(t.confirmarContrasena))return void(t.mensajeConfirmarContrasena="La contraseña no cumple con las póliticas");if(null==t.rol||"0"==t.rol)return void(t.mensajeRol="Debes seleccionar un Rol ")}var o={nombre1:t.nombre1,nombre2:t.nombre2,apellido1:t.apellido1,apellido2:t.apellido2,telefonoFijo:t.telefonoFijo,telefonomovil:t.telefonoMovil,email:t.email,pregunta:t.preguntaSeguridad,respuesta:t.respuesta,contrasena:t.contrasena,rol:t.rol,estado:t.estado};t.modalShown2=!0,jQuery(window).spin(),n.actualizarUsuario(o).then(function(e){jQuery(window).spin(),"200"==e.resultado?(t.nombre1="",t.nombre2="",t.apellido1="",t.apellido2="",t.telefonoFijo="",t.telefonoMovil="",t.email="",t.preguntaSeguridad="1",t.respuesta="",t.contrasena="",t.confirmarContrasena="",t.rol="0",t.estado="1",a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Actualizar usuario").textContent("Usuario actualizado").ariaLabel("Usuario actualizado").ok("Cerrar")),t.DisabledEmail=!1,t.DisabledConsultar=!1,t.DisabledActualizar=!0,t.DisabledEliminar=!0,t.DisabledCancelar=!0):"203"==e.resultado?a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Actualizar usuario").textContent("Usuario no actualizado, Contraseña y confirmación no coinciden").ariaLabel("Usuario no actualizado").ok("Cerrar")):a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Actualizar usuario").textContent("Usuario no actualizado").ariaLabel("Usuario no actualizado").ok("Cerrar"))})},t.consultarUsuario=function(){if(null==t.email||""==t.email)return void(t.mensajeEmail="Debes ingresar un email para consultar");var e={nombre1:t.nombre1,nombre2:t.nombre2,apellido1:t.apellido1,apellido2:t.apellido2,telefonoFijo:t.telefonoFijo,telefonomovil:t.telefonoMovil,email:t.email,pregunta:t.preguntaSeguridad,respuesta:t.respuesta,contrasena:t.contrasena,rol:t.rol,estado:t.estado};jQuery(window).spin(),n.consultarUsuario(e).then(function(e){jQuery(window).spin(),""!=e.resultado.nombre1?(a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Consultar usuario").textContent("Usuario consultado").ariaLabel("Usuario consultado").ok("Cerrar")),t.nombre1=e.resultado.nombre1,t.nombre2=e.resultado.nombre2,t.apellido1=e.resultado.apellido1,t.apellido2=e.resultado.apellido2,t.telefonoFijo=e.resultado.telefonoFijo,t.telefonoMovil=e.resultado.telefonomovil,t.preguntaSeguridad=e.resultado.pregunta,t.respuesta=e.resultado.respuesta,t.contrasena=e.resultado.contrasena,t.confirmarContrasena=e.resultado.contrasena,t.rol=e.resultado.rol,t.estado=e.resultado.estado,t.DisabledEmail=!0,t.DisabledConsultar=!0,t.DisabledActualizar=!1,t.DisabledEliminar=!1,t.DisabledCancelar=!1):a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Consultar usuario").textContent("Usuario no encontrado").ariaLabel("Verifique el email del usuario").ok("Cerrar"))})},t.mensajeNombre1="",t.mensajeNombre2="",t.mensajeApellido1="",t.mensajeapellido2="",t.mensajeTelefonoFijo="",t.mensajeTelefonoMovil="",t.mensajeEmail="",t.mensajePreguntaSeguridad="",t.mensajeRespuesta="",t.mensajeContrasena="",t.mensajeConfirmarContrasena="",t.functionNombre1=function(){0<t.nombre1.length&&(t.mensajeNombre1="")},t.functionNombre2=function(){},t.functionApellido1=function(){0<t.apellido1.length&&(t.mensajeApellido1="")},t.functionapellido2=function(){0<t.apellido2.length&&(t.mensajeapellido2="")},t.functionTelefonoFijo=function(){0<t.telefonoFijo.length&&(t.mensajeTelefonoFijo="",t.mensajeTelefonoMovil="")},t.functionTelefonoMovil=function(){0<t.telefonoMovil.length&&(t.mensajeTelefonoFijo="",t.mensajeTelefonoMovil="")},t.functionEmail=function(){0<t.email.length&&(t.mensajeEmail="")},t.functionPreguntaSeguridad=function(){0<t.preguntaSeguridad.length&&(t.mensajePreguntaSeguridad="")},t.functionRespuesta=function(){0<t.respuesta.length&&(t.mensajeRespuesta="")},t.functionContrasena=function(){0<t.contrasena.length&&(t.mensajeContrasena="",/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[`~!@#$%^&*()_°¬|+\-=?;:'",.<>\{\}\[\]\\\/])[A-Za-z\d`~!@#$%^&*()_°¬|+\-=?;:'",.<>\{\}\[\]\\\/]{8,12}$/.test(t.contrasena)?t.mensajeContrasena="":t.mensajeContrasena="La contraseña no cumple con las políticas")},t.functionConfirmarContrasena=function(){0<t.confirmarContrasena.length&&(t.mensajeConfirmarContrasena="",t.contrasena!=t.confirmarContrasena&&(t.mensajeConfirmarContrasena="La confirmación no coincide con la contraseña"))},t.DisabledEmail=!1,t.DisabledConsultar=!1,t.DisabledActualizar=!0,t.DisabledEliminar=!0,t.DisabledCancelar=!0,t.FunctionPreguntaSeguridad=function(){if(null!=t.preguntaSeguridad||"1"!=t.preguntaSeguridad)return void(t.mensajePreguntaSeguridad="")},t.nombre1="",t.nombre2="",t.apellido1="",t.apellido2="",t.telefonoFijo="",t.telefonoMovil="",t.email="",t.preguntaSeguridad="",t.respuesta="",t.contrasena="",t.confirmarContrasena="",t.FunctionRol=function(){if(null!=t.rol||"0"!=t.rol)return void(t.mensajeRol="")},t.estado="1",t.functionEstado=function(e){if("1"==t.estado){var o=a.confirm().title("Vas a activar este usuario").textContent("¿Estás seguro que vas a activar este usuario?").ariaLabel("Lucky day").targetEvent(e).ok("Aceptar").cancel("Cancelar");a.show(o).then(function(){t.estado="1"},function(){t.estado="2"})}else{var o=a.confirm().title("Vas a desactivar este usuario").textContent("¿Estás seguro que vas a desactivar este usuario?").ariaLabel("Lucky day").targetEvent(e).ok("Aceptar").cancel("Cancelar");a.show(o).then(function(){t.estado="2"},function(){t.estado="1"})}},t.cancelar=function(){t.DisabledEmail=!1,t.DisabledConsultar=!1,t.DisabledActualizar=!0,t.DisabledCancelar=!0,t.nombre1="",t.nombre2="",t.apellido1="",t.apellido2="",t.telefonoFijo="",t.telefonoMovil="",t.email="",t.preguntaSeguridad="1",t.respuesta="",t.contrasena="",t.confirmarContrasena="",t.rol="0",t.estado="1"},t.rol=sessionStorage.getItem("rol"),t.bienvenidaUsuario=", "+sessionStorage.getItem("nombre")}function adopcionController(e,o,a,n,t,r,i){"true"!=sessionStorage.getItem("access")&&i.url("/");var s=this;s.usuario=sessionStorage.getItem("user");var l,u=new Array("pdf");s.extencionesPermitidas=" Extenciones permitidas: pdf. ",s.mensajeAdjunto="",s.estado="",s.consultar=function(){if(null==s.Id||""==s.Id)return void(s.mensajeId="Debes ingresar un id para consultar");jQuery(window).spin(),t.consultarSolicitud(s.Id).then(function(e){if(jQuery(window).spin(),"200"==e.resultado.codigoRespuesta){switch(o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Consultar solicitud").textContent("Solicitud consultada.").ariaLabel("Solicitud consultada.").ok("Cerrar")),s.mensajeMascota="",s.mensajeNombreAdjunto="",s.mensajeAdjunto="",s.idSolicitud=s.Id,s.usuario=e.resultado.usuario,s.mascota=e.resultado.idMascota,s.nombreAdjunto=e.resultado.nombreAdjunto,s.archivo=e.resultado.adjunto,e.resultado.estado){case"1":s.estado="En proceso";break;case"2":s.estado="Aceptado";break;case"3":s.estado="Rechazado";break;case"4":s.estado="Cacelado";break;default:s.estado="En proceso"}s.Id="",s.idDisabled=!0,s.DisabledActualizar=!1,s.DisabledEnviar=!0,s.DisabledConsultar=!0}else o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Consultar solicitud").textContent("Solicitud no consultada.").ariaLabel("Verifique el id de la solicitud.").ok("Cerrar"))})},s.actualizar=function(){if(null==s.mascota||""==s.mascota)return void(s.mensajeMascota="Debes ingresar un dato valido.");if(null==s.nombreAdjunto||""==s.nombreAdjunto)return void(s.mensajeNombreAdjunto="Debes ingresar un dato valido.");null!=l&&""!=l.result&&(s.archivo=l.result);var e={idAdopcion:s.idSolicitud,usuario:s.usuario,idMascota:s.mascota,nombreAdjunto:s.nombreAdjunto,estadoSolicitud:s.estado,adjunto:s.archivo};jQuery(window).spin(),t.actualizarSolicitud(e).then(function(e){jQuery(window).spin(),"200"==e.resultado?(o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Solicitud de adopción").textContent("Se actualizó la solicitud exitósamente.").ariaLabel("Se actualizó la solicitud exitósamente.").ok("Cerrar")),s.mascota="",s.nombreAdjunto="",s.adjunto="",s.Id="",s.idDisabled=!1,s.DisabledActualizar=!0,s.DisabledEnviar=!1,s.DisabledConsultar=!1,document.getElementById("file").value=""):"201"==e.resultado&&(o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Solicitud de adopción").textContent("La identificación de la solicitud no existe, la solicitud no fue actualizada.").ariaLabel("No se actualizó la solicitud.").ok("Cerrar")),s.mascota="",s.nombreAdjunto="",document.getElementById("file").value="")})},s.cancelar=function(){s.mascota="",s.nombreAdjunto="",s.adjunto="",s.Id="",s.idDisabled=!1,s.DisabledActualizar=!0,s.DisabledEnviar=!1,s.DisabledConsultar=!1,s.archivo="",s.estado="",s.mensajeMascota="",s.mensajeNombreAdjunto="",s.mensajeAdjunto="",document.getElementById("file").value=""},s.enviar=function(){if(null==s.mascota||""==s.mascota)return void(s.mensajeMascota="Debes ingresar un dato valido.");if(null==s.nombreAdjunto||""==s.nombreAdjunto)return void(s.mensajeNombreAdjunto="Debes ingresar un dato valido.");if(null==l||""==l.result)return void(s.mensajeAdjunto="Debes adjuntar un archivo.");var e={usuario:s.usuario,idMascota:s.mascota,nombreAdjunto:s.nombreAdjunto,estadoSolicitud:"1",adjunto:l.result};jQuery(window).spin(),t.enviarSolicitud(e).then(function(e){jQuery(window).spin(),"200"==e.resultado.codigoRespuesta?(o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Solicitud de adopción").textContent("Se envió la solicitud exitosamente con el seiguiente número: "+e.resultado.idAdopcion).ariaLabel("Se envió la solicitud exitosamente.").ok("Cerrar")),s.mascota="",s.nombreAdjunto="",document.getElementById("file").value=""):"201"==e.resultado.codigoRespuesta?(o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Solicitud de adopción").textContent("No se envió la solicitud").ariaLabel("No se envió la solicitud.").ok("Cerrar")),s.mascota="",s.nombreAdjunto="",document.getElementById("file").value=""):"500"==e.resultado.codigoRespuesta?(o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Solicitud de adopción").textContent("Ocurrió un error en el servidor.").ariaLabel("Ocurrió un error en el servidor.").ok("Cerrar")),s.mascota="",s.nombreAdjunto="",document.getElementById("file").value=""):"501"==e.resultado.codigoRespuesta&&(o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Solicitud de adopción").textContent("La identificación de la mascota no existe, la solicitud no fue enviada.").ariaLabel("No se envió la solicitud.").ok("Cerrar")),s.mascota="",s.nombreAdjunto="",document.getElementById("file").value="")})},s.descargarPDF=function(){var e=document.getElementById("dwnldLnk");e.href=s.archivo,e.click()},s.idSolicitud="",s.archivo="",s.mascota=0!=r.idMascota?r.idMascota:"",s.rol=sessionStorage.getItem("rol"),s.bienvenidaUsuario=", "+sessionStorage.getItem("nombre"),s.functionMascota=function(){0<s.mascota.length&&(s.mensajeMascota="")},s.functionNombreAdjunto=function(){0<s.nombreAdjunto.length&&(s.mensajeNombreAdjunto="")},e.fileChanged=function(e){var o=e;if(0<o.length)if(function(e){var o=u.length;for(;o--;)if(u[o]===e)return!0;return!1}(o[0].name.split(".")[1])){var a,n=o[0];(l=new FileReader).onload=function(e){a=e.target.result,console.log(a)},l.readAsDataURL(n),console.log(l.result),s.mensajeAdjunto=""}else s.mensajeAdjunto="La extención del archivo no es permitida.",document.getElementById("file").value=""}}function apadrinamientoController(e,o,a,n,t,r,i){"true"!=sessionStorage.getItem("access")&&i.url("/");var s=this;s.usuario=sessionStorage.getItem("user");var l,u=new Array("jpg","png","doc","pdf");s.extencionesPermitidas=" Extenciones permitidas: jpg, png, doc y pdf. ",s.mensajeAdjunto="",s.mascota=0!=r.idMascota?r.idMascota:"",s.rol=sessionStorage.getItem("rol"),s.bienvenidaUsuario=", "+sessionStorage.getItem("nombre"),s.functionMascota=function(){0<s.mascota.length&&(s.mensajeMascota="")},s.functionNombreAdjunto=function(){0<s.nombreAdjunto.length&&(s.mensajeNombreAdjunto="")},s.limpiar=function(){s.mascota="",s.nombreAdjunto="",s.adjunto="",document.getElementById("file").value=""},e.fileChanged=function(e){var o=e;if(0<o.length)if(function(e){var o=u.length;for(;o--;)if(u[o]===e)return!0;return!1}(o[0].name.split(".")[1])){var a,n=o[0];(l=new FileReader).onload=function(e){a=e.target.result,console.log(a)},l.readAsDataURL(n),console.log(l.result),s.mensajeAdjunto=""}else s.mensajeAdjunto="La extención del archivo no es permitida.",document.getElementById("file").value=""},s.enviar=function(){if(null!=s.mascota&&""!=s.mascota)if(null!=s.nombreAdjunto&&""!=s.nombreAdjunto)if(null!=l&&""!=l.result){var e={usuario:s.usuario,idMascota:s.mascota,nombreAdjunto:s.nombreAdjunto,adjunto:l.result};jQuery(window).spin(),t.enviarSolicitud(e).then(function(e){jQuery(window).spin(),"200"==e.resultado.codigoRespuesta?(o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Solicitud de apadrinamiento").textContent("Se envió la solicitud exitosamente con el seiguiente número: "+e.resultado.idApadrinamiento).ariaLabel("Se envió la solicitud exitósamente.").ok("Cerrar")),s.mascota="",s.nombreAdjunto="",document.getElementById("file").value=""):"201"==e.resultado.codigoRespuesta?(o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Solicitud de adopción").textContent("No se envió la solicitud").ariaLabel("No se envió la solicitud.").ok("Cerrar")),s.mascota="",s.nombreAdjunto="",document.getElementById("file").value=""):"500"==e.resultado.codigoRespuesta?(o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Solicitud de adopción").textContent("Ocurrió un error en el servidor.").ariaLabel("Ocurrió un error en el servidor.").ok("Cerrar")),s.mascota="",s.nombreAdjunto="",document.getElementById("file").value=""):"501"==e.resultado.codigoRespuesta&&(o.show(o.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Solicitud de apadrinamiento").textContent("La identificación de la mascota no existe, la solicitud no fue enviada.").ariaLabel("No se envió la solicitud.").ok("Cerrar")),s.mascota="",s.nombreAdjunto="",document.getElementById("file").value="")})}else s.mensajeAdjunto="Debes adjuntar un archivo.";else s.mensajeNombreAdjunto="Debes ingresar un dato valido.";else s.mensajeMascota="Debes ingresar un dato valido."}}function solicitudAdopcionController(e,o,a,n,t,r){var i=this;function s(){r.listarSolicitud().then(function(e){i.listaSolicitudes=e.resultado,i.filteredTodos=[],i.currentPage=1,i.numPerPage=5,i.maxSize=5})}i.listarSolicitudes=s,i.numPages=function(){return Math.ceil(i.listaSolicitudes.length/i.numPerPage)},i.listaSolicitudes=[],s(),i.$location=o,i.estadoSolicitud=function(e){i.$location.path("/estado-solicitud/"+e)},i.rol=sessionStorage.getItem("rol"),i.bienvenidaUsuario=", "+sessionStorage.getItem("nombre"),e.$watch("vm.currentPage + vm.numPerPage",function(){var e=(i.currentPage-1)*i.numPerPage,o=e+i.numPerPage;i.filteredTodos=i.listaSolicitudes.slice(e,o)})}function solicitudApadrinamientoController(e,o,a,n,t,r){var i=this;function s(){r.listarSolicitud().then(function(e){i.listaSolicitudes=e.resultado,i.filteredTodos=[],i.currentPage=1,i.numPerPage=5,i.maxSize=5})}i.listarSolicitudes=s,i.numPages=function(){return Math.ceil(i.listaSolicitudes.length/i.numPerPage)},i.listaSolicitudes=[],s(),i.$location=o,i.estadoSolicitud=function(e){i.$location.path("/estado-solicitudA/"+e)},e.$watch("vm.currentPage + vm.numPerPage",function(){var e=(i.currentPage-1)*i.numPerPage,o=e+i.numPerPage;i.filteredTodos=i.listaSolicitudes.slice(e,o)})}function estadoSolicitudAdopcionController(e,o,a,n,t,r,i){"true"!=sessionStorage.getItem("access")&&o.url("/");var s,l=this,u=new Array("pdf");function c(){jQuery(window).spin(),r.consultarSolicitud(l.idSolicitud).then(function(e){jQuery(window).spin(),"200"==e.resultado[0].codRespuesta?(l.mensajeMascota="",l.mensajeNombreAdjunto="",l.mensajeAdjunto="",l.usuario=e.resultado[0].usuario,l.mascota=e.resultado[0].idMascota,l.nombreAdjunto=e.resultado[0].nombreAdjunto,l.estado=e.resultado[0].estado,l.archivo=e.resultado[0].adjunto,l.Id="",l.idDisabled=!0,l.DisabledActualizar=!1,l.DisabledEnviar=!0,l.DisabledConsultar=!0):a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Consultar solicitud").textContent("Solicitud no consultada.").ariaLabel("Verifique el id de la solicitud.").ok("Cerrar"))})}l.extencionesPermitidas=" Extenciones permitidas: pdf. ",l.mensajeAdjunto="",l.estado="",l.consultar=c,l.actualizar=function(){var e={idAdopcion:l.idSolicitud,usuario:l.usuario,idMascota:l.mascota,nombreAdjunto:l.nombreAdjunto,estadoSolicitud:l.estado,adjunto:l.archivo};jQuery(window).spin(),r.actualizarSolicitud(e).then(function(e){jQuery(window).spin(),"200"==e.resultado[0].codRespuesta?(a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Solicitud de adopción").textContent("Se actualizó la solicitud exitósamente.").ariaLabel("Se actualizó la solicitud exitósamente.").ok("Cerrar")),l.mascota="",l.nombreAdjunto="",l.adjunto="",l.Id="",l.idDisabled=!1,l.DisabledActualizar=!0,l.DisabledEnviar=!1,l.DisabledConsultar=!1):"201"==e.resultado[0].codRespuesta&&(a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Solicitud de adopción").textContent("La identificación de la solicitud no existe, la solicitud no fue actualizada.").ariaLabel("No se actualizó la solicitud.").ok("Cerrar")),l.mascota="",l.nombreAdjunto="",document.getElementById("file").value="")})},l.descargarPDF=function(){var e=document.getElementById("dwnldLnk");e.href=l.archivo,e.click()},l.idSolicitud=i.idSolicitud,l.archivo="",l.$location=o,l.atras=function(){l.$location.path("/solicitud-adopcion")},l.rol=sessionStorage.getItem("rol"),l.bienvenidaUsuario=", "+sessionStorage.getItem("nombre"),c(),e.fileChanged=function(e){var o=e;if(0<o.length)if(function(e){var o=u.length;for(;o--;)if(u[o]===e)return!0;return!1}(o[0].name.split(".")[1])){var a,n=o[0];(s=new FileReader).onload=function(e){a=e.target.result,console.log(a)},s.readAsDataURL(n),console.log(s.result),l.mensajeAdjunto=""}else l.mensajeAdjunto="La extención del archivo no es permitida.",document.getElementById("file").value=""}}function estadoSolicitudApadrinamientoController(e,o,a,n,t,r,i){var s,l=this,u=new Array("pdf");function c(){jQuery(window).spin(),r.consultarSolicitud(l.idSolicitud).then(function(e){jQuery(window).spin(),"200"==e.resultado[0].codRespuesta?(a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Consultar solicitud").textContent("Solicitud consultada.").ariaLabel("Solicitud consultada.").ok("Cerrar")),l.mensajeMascota="",l.mensajeNombreAdjunto="",l.mensajeAdjunto="",l.usuario=e.resultado[0].usuario,l.mascota=e.resultado[0].idMascota,l.nombreAdjunto=e.resultado[0].nombreAdjunto,l.estado=e.resultado[0].estado,l.archivo=e.resultado[0].adjunto,l.Id="",l.idDisabled=!0,l.DisabledActualizar=!1,l.DisabledEnviar=!0,l.DisabledConsultar=!0):a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Consultar solicitud").textContent("Solicitud no consultada.").ariaLabel("Verifique el id de la solicitud.").ok("Cerrar"))})}l.extencionesPermitidas=" Extenciones permitidas: pdf. ",l.mensajeAdjunto="",l.estado="",l.consultar=c,l.actualizar=function(){var e={idApadrinamiento:l.idSolicitud,usuario:l.usuario,idMascota:l.mascota,nombreAdjunto:l.nombreAdjunto,estadoSolicitud:l.estado,adjunto:l.archivo};jQuery(window).spin(),r.actualizarSolicitud(e).then(function(e){jQuery(window).spin(),"200"==e.resultado[0].codRespuesta?(a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Solicitud de apadrinamiento").textContent("Se actualizó la solicitud exitósamente.").ariaLabel("Se actualizó la solicitud exitósamente.").ok("Cerrar")),l.mascota="",l.nombreAdjunto="",l.adjunto="",l.Id="",l.idDisabled=!1,l.DisabledActualizar=!0,l.DisabledEnviar=!1,l.DisabledConsultar=!1):"201"==e.resultado[0].codRespuesta&&(a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Solicitud de apadrinamiento").textContent("La identificación de la solicitud no existe, la solicitud no fue actualizada.").ariaLabel("No se actualizó la solicitud.").ok("Cerrar")),l.mascota="",l.nombreAdjunto="",document.getElementById("file").value="")})},l.descargarPDF=function(){var e=document.getElementById("dwnldLnk");e.href=l.archivo,e.click()},l.idSolicitud=i.idSolicitud,l.archivo="",l.$location=o,l.atras=function(){l.$location.path("/solicitud-apadrinamiento")},c(),e.fileChanged=function(e){var o=e;if(0<o.length)if(function(e){var o=u.length;for(;o--;)if(u[o]===e)return!0;return!1}(o[0].name.split(".")[1])){var a,n=o[0];(s=new FileReader).onload=function(e){a=e.target.result,console.log(a)},s.readAsDataURL(n),console.log(s.result),l.mensajeAdjunto=""}else l.mensajeAdjunto="La extención del archivo no es permitida.",document.getElementById("file").value=""}}function salirController(e,o){sessionStorage.setItem("user",""),sessionStorage.setItem("nombre",""),sessionStorage.setItem("rol",""),sessionStorage.setItem("access",""),o.url("/")}homepublicoController.$inject=["$scope","$location","$mdDialog","homePublicoService"],loginController.$inject=["$scope","$mdDialog","loginServices","$location","$window","CONFIG"],loginAdopcionController.$inject=["$scope","$mdDialog","loginServices","$location","$window","$routeParams"],loginApadrinarController.$inject=["$scope","$mdDialog","loginServices","$location","$window","$routeParams"],homeController.$inject=["$scope","$location"],mascotaController.$inject=["$scope","$mdDialog","registarMascotaServices","$timeout","CONFIG","$location"],UsuarioController.$inject=["$scope","$mdDialog","UsuarioServices","$location"],adopcionController.$inject=["$scope","$mdDialog","$timeout","$interval","adopcionService","$routeParams","$location"],apadrinamientoController.$inject=["$scope","$mdDialog","$timeout","$interval","apadrinamientoService","$routeParams","$location"],solicitudAdopcionController.$inject=["$scope","$location","$mdDialog","$timeout","$interval","solicitudAdopcionService"],solicitudApadrinamientoController.$inject=["$scope","$location","$mdDialog","$timeout","$interval","solicitudApadrinamientoService"],estadoSolicitudAdopcionController.$inject=["$scope","$location","$mdDialog","$timeout","$interval","estadoSolicitudAdopcionService","$routeParams"],estadoSolicitudApadrinamientoController.$inject=["$scope","$location","$mdDialog","$timeout","$interval","estadoSolicitudApadrinamientoService","$routeParams"],salirController.$inject=["$scope","$location"],angular.module("mimasApp",["ngRoute","ngMaterial","ngMessages","ngMask","ngMdIcons","ui.bootstrap"]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"views/Home.publico.html",controller:"homepublicoController"}).when("/login",{templateUrl:"views/Login.html",controller:"loginController"}).when("/login-adopcion/:idMascota",{templateUrl:"views/Login.adopcion.html",controller:"loginAdopcionController"}).when("/login-apadrinar/:idMascota",{templateUrl:"views/Login.adopcion.html",controller:"loginApadrinarController"}).when("/home-transaccional",{templateUrl:"views/Home.transaccional.html",controller:"homeController"}).when("/mascota",{templateUrl:"views/Mascota.html",controller:"mascotaController"}).when("/registra-suario",{templateUrl:"views/Registrar_Usuario.html",controller:"registrarUsuarioController"}).when("/usuario",{templateUrl:"views/Usuario.html",controller:"UsuarioController"}).when("/adopcion/:idMascota",{templateUrl:"views/Adopcion.html",controller:"adopcionController"}).when("/apadrinamiento/:idMascota",{templateUrl:"views/apadrinamiento.html",controller:"apadrinamientoController"}).when("/solicitudes-adopcion",{templateUrl:"views/SoliciudesAdopcion.html",controller:"solicitudAdopcionController"}).when("/solicitud-adopcion",{templateUrl:"views/Lista.Solicitud.adopcion.html",controller:"solicitudAdopcionController"}).when("/estado-solicitud/:idSolicitud",{templateUrl:"views/Estado.solicitud.adopcion.html",controller:"estadoSolicitudAdopcionController"}).when("/solicitudes-apadrinamiento",{templateUrl:"views/SoliciudesApadrinamiento.html",controller:"solicitudApadrinamientoController"}).when("/solicitud-apadrinamiento",{templateUrl:"views/Lista.Solicitud.apadrinamiento.html ",controller:"solicitudApadrinamientoController"}).when("/estado-solicitudA/:idSolicitud",{templateUrl:"views/Estado.solicitud.apadrinamiento.html",controller:"estadoSolicitudApadrinamientoController"}).when("/salir",{templateUrl:"views/Salir.html",controller:"salirController"}).otherwise({redirectTo:"/"})}]),angular.module("mimasApp").constant("CONFIG",{APIURL:"http://localhost:9546/",APIUSUARIO:""}),angular.module("mimasApp").directive("menuTransaccional",function(){return{templateUrl:"views/Menu.transaccional.html"}}),angular.module("mimasApp").service("registarMascotaServices",registarMascotaServices),registarMascotaServices.$inject=["$http","$q","CONFIG"],angular.module("mimasApp").service("registarUsuarioServices",registarUsuarioServices),registarUsuarioServices.$inject=["$http","$q","CONFIG"],angular.module("mimasApp").service("UsuarioServices",UsuarioServices),UsuarioServices.$inject=["$http","$q","CONFIG"],angular.module("mimasApp").service("loginServices",loginServices),loginServices.$inject=["$http","$q","CONFIG"],angular.module("mimasApp").service("adopcionService",adopcionService),adopcionService.$inject=["$http","$q","CONFIG"],angular.module("mimasApp").service("apadrinamientoService",apadrinamientoService),apadrinamientoService.$inject=["$http","$q","CONFIG"],angular.module("mimasApp").service("solicitudAdopcionService",solicitudAdopcionService),solicitudAdopcionService.$inject=["$http","$q","CONFIG"],angular.module("mimasApp").service("solicitudApadrinamientoService",solicitudApadrinamientoService),solicitudApadrinamientoService.$inject=["$http","$q"],angular.module("mimasApp").service("estadoSolicitudAdopcionService",estadoSolicitudAdopcionService),estadoSolicitudAdopcionService.$inject=["$http","$q","CONFIG"],angular.module("mimasApp").service("estadoSolicitudApadrinamientoService",estadoSolicitudApadrinamientoService),estadoSolicitudApadrinamientoService.$inject=["$http","$q"],angular.module("mimasApp").service("solicituAdopcionService",solicituAdopcionService),solicituAdopcionService.$inject=["$http","$q","CONFIG"],angular.module("mimasApp").service("solicituApadrinamientoService",solicituApadrinamientoService),solicituApadrinamientoService.$inject=["$http","$q"],angular.module("mimasApp").service("homePublicoService",homePublicoService),homePublicoService.$inject=["$http","$q","CONFIG"],angular.module("mimasApp").controller("homepublicoController",homepublicoController),angular.module("mimasApp").controller("loginController",loginController),angular.module("mimasApp").controller("loginAdopcionController",loginAdopcionController),angular.module("mimasApp").controller("loginApadrinarController",loginApadrinarController),angular.module("mimasApp").controller("homeController",homeController),angular.module("mimasApp").controller("mascotaController",mascotaController),angular.module("mimasApp").controller("registrarUsuarioController",["$scope","$mdDialog","registarUsuarioServices",function(e,a,n){var t=this;t.registrarUsuario=function(){var e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[`~!@#$%^&*()_°¬|+\-=?;:'",.<>\{\}\[\]\\\/])[A-Za-z\d`~!@#$%^&*()_°¬|+\-=?;:'",.<>\{\}\[\]\\\/]{8,12}$/;{if(null==t.nombre1||""==t.nombre1)return void(t.mensajeNombre1="Debes ingresar un válido para este campo");if(/\s/.test(t.nombre1))return void(t.mensajeNombre1="No debe llevar espacios");if(/\s/.test(t.nombre2))return void(t.mensajeNombre2="No debe llevar espacios");if(null==t.apellido1||""==t.apellido1)return void(t.mensajeApellido1="Debes ingresar un válido para este campo");if(/\s/.test(t.apellido1))return void(t.mensajeApellido1="No debe llevar espacios");if(/\s/.test(t.apellido2))return void(t.mensajeApellido2="No debe llevar espacios");if(null==t.telefonoFijo||""==t.telefonoFijo&&(null==t.telefonoMovil||""==t.telefonoMovil))return t.mensajeTelefonoFijo="Debes ingresar un número de teléfono para fijo o para móvil",void(t.mensajeTelefonoMovil="Debes ingresar un número de teléfono para fijo o para móvil");if(null==t.email||""==t.email)return void(t.mensajeEmail="Debes ingresar un válido para este campo");if(!/^\w+([\.\+\-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(t.email))return void(t.mensajeEmail="El correo no es válido");if(null==t.preguntaSeguridad||"1"==t.preguntaSeguridad)return void(t.mensajePreguntaSeguridad="Debes seleccionar una pregunta ");if(null==t.respuesta||""==t.respuesta)return void(t.mensajeRespuesta="Debes ingresar un válido para este campo");if(null==t.contrasena||""==t.contrasena)return void(t.mensajeContrasena="Debes ingresar un válido para este campo");if(!e.test(t.contrasena))return void(t.mensajeContrasena="La contraseña no cumple con las póliticas");if(null==t.confirmarContrasena||""==t.confirmarContrasena)return void(t.mensajeConfirmarContrasena="Debes ingresar un válido para este campo");if(t.confirmarContrasena!=t.confirmarContrasena)return void(t.mensajeConfirmarContrasena="La confirmación no coincide con la contraseña");if(!e.test(t.confirmarContrasena))return void(t.mensajeConfirmarContrasena="La contraseña no cumple con las póliticas")}t.loader="loaderRun";var o={nombre1:t.nombre1,nombre2:t.nombre2,apellido1:t.apellido1,apellido2:t.apellido2,telefonoFijo:t.telefonoFijo,telefonomovil:t.telefonoMovil,email:t.email,pregunta:t.preguntaSeguridad,respuesta:t.respuesta,contrasena:t.contrasena};t.modalShown2=!0,console.log(JSON.stringify(o)),n.registrarUsuario(o).then(function(e){try{"200"==e.resultado?(t.nombre1="",t.nombre2="",t.apellido1="",t.apellido2="",t.telefonoFijo="",t.telefonoMovil="",t.email="",t.preguntaSeguridad="1",t.respuesta="",t.contrasena="",t.confirmarContrasena="",a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Registrar usuario").textContent("Usuario registrado").ariaLabel("Usuario registrado").ok("Cerrar"))):"202"==e.resultado.codRespuesta?a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Registrar usuario").textContent("El usuario no ha sido registrado, Usuario existente").ariaLabel("Usuario existente").ok("Cerrar")):"203"==e.resultado[0].codRespuesta?a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Registrar usuario").textContent("Usuario no registrado, Contraseña y confirmación no coinciden").ariaLabel("Usuario no registrado").ok("Cerrar")):a.show(a.alert().parent(angular.element(document.querySelector("#dialogContainer"))).clickOutsideToClose(!0).title("Registrar usuario").textContent("Usuario no registrado").ariaLabel("Usuario no registrado").ok("Cerrar"))}catch(e){console.log(e)}finally{t.loader="loaderStop"}})},t.mensajeNombre1="",t.mensajeNombre2="",t.mensajeApellido1="",t.mensajeApellido2="",t.mensajeTelefonoFijo="",t.mensajeTelefonoMovil="",t.mensajeEmail="",t.mensajePreguntaSeguridad="",t.mensajeRespuesta="",t.mensajeContrasena="",t.mensajeConfirmarContrasena="",t.functionNombre1=function(){0<t.nombre1.length&&(t.mensajeNombre1="");/\s/.test(t.nombre1)&&(t.mensajeNombre1="No debe llevar espacios")},t.functionNombre2=function(){0<t.nombre2.length&&(t.mensajeNombre1="");expreg.test(t.nombre2)&&(t.mensajeNombre1="No debe llevar espacios")},t.functionApellido1=function(){0<t.apellido1.length&&(t.mensajeApellido1="");expreg.test(t.apellido1)&&(t.mensajeApellido1="No debe llevar espacios")},t.functionApellido2=function(){0<t.apellido2.length&&(t.mensajeApellido2="");expreg.test(t.apellido2)&&(t.mensajeApellido2="No debe llevar espacios")},t.functionTelefonoFijo=function(){0<t.telefonoFijo.length&&(t.mensajeTelefonoFijo="",t.mensajeTelefonoMovil="")},t.functionTelefonoMovil=function(){0<t.telefonoMovil.length&&(t.mensajeTelefonoFijo="",t.mensajeTelefonoMovil="")},t.functionEmail=function(){0<t.email.length&&(t.mensajeEmail="")},t.functionPreguntaSeguridad=function(){if(null!=t.preguntaSeguridad||"1"!=t.preguntaSeguridad)return void(t.mensajePreguntaSeguridad="")},t.functionRespuesta=function(){0<t.respuesta.length&&(t.mensajeRespuesta="")},t.functionContrasena=function(){0<t.contrasena.length&&(t.mensajeContrasena="")},t.functionConfirmarContrasena=function(){0<t.confirmarContrasena.length&&(t.mensajeConfirmarContrasena="",t.contrasena!=t.confirmarContrasena&&(t.mensajeConfirmarContrasena="La confirmación no coincide con la contraseña"))},t.nombre1="",t.nombre2="",t.apellido1="",t.apellido2="",t.telefonoFijo="",t.telefonoMovil="",t.email="",t.respuesta="",t.contrasena="",t.confirmarContrasena="",t.loader="loaderStop"}]),angular.module("mimasApp").controller("UsuarioController",UsuarioController),angular.module("mimasApp").controller("adopcionController",adopcionController),angular.module("mimasApp").controller("apadrinamientoController",apadrinamientoController),angular.module("mimasApp").controller("solicitudAdopcionController",solicitudAdopcionController),angular.module("mimasApp").controller("solicitudApadrinamientoController",solicitudApadrinamientoController),angular.module("mimasApp").controller("estadoSolicitudAdopcionController",estadoSolicitudAdopcionController),angular.module("mimasApp").controller("estadoSolicitudApadrinamientoController",estadoSolicitudApadrinamientoController),angular.module("mimasApp").controller("salirController",salirController),angular.module("mimasApp").filter("estado",function(){return function(e){return 1==e?"En adopción":2==e?"Adoptado":3==e?"Perdido":4==e?"Recuperado":void 0}}).filter("sexo",function(){return function(e){return 1==e?"Hembra":2==e?"Macho":void 0}});